<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body>
    <script>
        // 二叉树的下一个节点


        function BinaryTree(value) {
            this.value = value;
            this.parent = null;
            this.left = null;
            this.right = null;
        }

        var a = new BinaryTree(1);
        var b = new BinaryTree(2);
        var c = new BinaryTree(3);
        var d = new BinaryTree(4);
        var e = new BinaryTree(5);
        var f = new BinaryTree(6);
        var g = new BinaryTree(7);
        var h = new BinaryTree(8);
        var i = new BinaryTree(9);

        a.left = b;
        a.right = c;
        b.left = d;
        b.right = e;
        b.parent = a
        c.left = f;
        c.right = g;
        c.parent = a;
        d.parent = b;
        e.left = h;
        e.right = i;
        e.parent = b;
        h.parent = e;
        i.parent = e;
        f.parent = c;
        g.parent = c;

        function func(node) {

            if (node == null) {
                return null;
            }

            // console.log(root.value, node.value);
            // 判断右孩子是否存在
            if (node.right) {
                node = node.right;
                while (node.left) {
                    node = node.left;
                }
                return node;
            } else {
                // 判断父节点是否存在
                while (node.parent) {
                    // 这个是判断当前节点是父节点的左孩子还是右孩子，
                    // 如果是左孩子，则中序遍历下一个节点就是父节点，
                    // 如果是右孩子，说明这个节点是该分支的最后一个节点，继续往上找
                    if (node === node.parent.left) {
                        return node.parent;
                    }
                    node = node.parent;
                }
                return null;
            }

        }

        const result = func(a);
        console.log(result);
    </script>
</body>

</html>